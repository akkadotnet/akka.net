<Project Sdk="Microsoft.NET.Sdk">
    <Import Project="..\..\..\common.props" />

    <PropertyGroup>
        <AssemblyTitle>Akka.Cluster.Metrics</AssemblyTitle>
        <Description>
            The member nodes of the cluster can collect system health metrics and publish that to other cluster nodes 
            and to the registered subscribers on the system event bus with the help of Cluster Metrics Extension.
        </Description>
        <VersionSuffix>beta</VersionSuffix>
        <TargetFramework>$(NetStandardLibVersion)</TargetFramework>
        <PackageTags>$(AkkaPackageTags);network;cluster;sharding</PackageTags>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
    </PropertyGroup>
    
    <ItemGroup>
        <PackageReference Include="Google.Protobuf" Version="3.11.2" />
    </ItemGroup>

    <ItemGroup Condition=" '$(TargetFramework)' == '$(NetFrameworkLibVersion)' ">
        <Reference Include="System.Core" />
        <Reference Include="System.Xml.Linq" />
        <Reference Include="System.Data.DataSetExtensions" />
    </ItemGroup>

    <ItemGroup>
      <ProjectReference Include="..\..\..\core\Akka.Cluster\Akka.Cluster.csproj" />
      <ProjectReference Include="..\..\..\core\Akka\Akka.csproj" />
    </ItemGroup>

    <ItemGroup>
      <EmbeddedResource Include="reference.conf" />
    </ItemGroup>

    <PropertyGroup Condition=" '$(TargetFramework)' == '$(NetFrameworkLibVersion)' ">
        <DefineConstants>$(DefineConstants);SERIALIZATION</DefineConstants>
    </PropertyGroup>

    <PropertyGroup Condition=" '$(TargetFramework)' == '$(NetStandardLibVersion)' ">
        <DefineConstants>$(DefineConstants);CORECLR</DefineConstants>
    </PropertyGroup>

    <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
        <DefineConstants>$(DefineConstants);RELEASE</DefineConstants>
    </PropertyGroup>

</Project>