<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <AssemblyName>Akka.Streams.Tests</AssemblyName>
    <TargetFrameworks>net452;netcoreapp1.1</TargetFrameworks>
  </PropertyGroup>
 
  <ItemGroup>
    <Content Include="App.config" />
    <ProjectReference Include="..\Akka.Streams\Akka.Streams.csproj" />
    <ProjectReference Include="..\Akka.Streams.TestKit\Akka.Streams.TestKit.csproj" />
    <ProjectReference Include="..\Akka.Streams.TestKit.Tests\Akka.Streams.TestKit.Tests.csproj" />
    <ProjectReference Include="..\Akka.Tests.Shared.Internals\Akka.Tests.Shared.Internals.csproj" />
    <Compile Include="ActorMaterializerSpec.cs" />
    <Compile Include="Actor\ActorSubscriberSpec.cs" />
    <Compile Include="Actor\RequestStrategySpecs.cs" />
    <Compile Include="Dsl\ActorRefSourceSpec.cs" />
    <Compile Include="Dsl\AttributesSpec.cs" />
    <Compile Include="Dsl\BidiFlowSpec.cs" />
    <Compile Include="Dsl\FlowAggregateAsyncSpec.cs" />
    <Compile Include="Dsl\FlowBatchSpec.cs" />
    <Compile Include="Dsl\FlowBatchWeightedSpec.cs" />
    <Compile Include="Dsl\FlowCollectSpec.cs" />
    <Compile Include="Dsl\FlowCompileSpec.cs" />
    <Compile Include="Dsl\FlowConcatAllSpec.cs" />
    <Compile Include="Dsl\FlowAppendSpec.cs" />
    <Compile Include="Dsl\FlowConcatSpec.cs" />
    <Compile Include="Dsl\FlowConflateSpec.cs" />
    <Compile Include="Dsl\FlowDelaySpec.cs" />
    <Compile Include="Dsl\FlowDetacherSpec.cs" />
    <Compile Include="Dsl\FlowDispatcherSpec.cs" />
    <Compile Include="Dsl\FlowExpandSpec.cs" />
    <Compile Include="Dsl\FlowKillSwitchSpec.cs" />
    <Compile Include="Dsl\FlowMonitorSpec.cs" />
    <Compile Include="Dsl\FlowOrElseSpec.cs" />
    <Compile Include="Dsl\FlowWhereSpec.cs" />
    <Compile Include="Dsl\FlowFlattenMergeSpec.cs" />
    <Compile Include="Dsl\FlowAggregateSpec.cs" />
    <Compile Include="Dsl\FlowForeachSpec.cs" />
    <Compile Include="Dsl\FlowFromTaskSpec.cs" />
    <Compile Include="Dsl\FlowZipWithIndexSpec.cs" />
    <Compile Include="Dsl\GraphDslCompileSpec.cs" />
    <Compile Include="Dsl\FlowGroupBySpec.cs" />
    <Compile Include="Dsl\FlowGroupedSpec.cs" />
    <Compile Include="Dsl\FlowGroupedWithinSpec.cs" />
    <Compile Include="Dsl\FlowIdleInjectSpec.cs" />
    <Compile Include="Dsl\FlowInitialDelaySpec.cs" />
    <Compile Include="Dsl\FlowInterleaveSpec.cs" />
    <Compile Include="Dsl\FlowIntersperseSpec.cs" />
    <Compile Include="Dsl\FlowIteratorSpec.cs" />
    <Compile Include="Dsl\FlowJoinSpec.cs" />
    <Compile Include="Dsl\FlowLimitSpec.cs" />
    <Compile Include="Dsl\FlowLimitWeightedSpec.cs" />
    <Compile Include="Dsl\FlowLogSpec.cs" />
    <Compile Include="Dsl\FlowSelectAsyncUnorderedSpec.cs" />
    <Compile Include="Dsl\FlowSelectAsyncSpec.cs" />
    <Compile Include="Dsl\FlowMergeSpec.cs" />
    <Compile Include="Dsl\FlowOnCompleteSpec.cs" />
    <Compile Include="Dsl\FlowPrefixAndTailSpec.cs" />
    <Compile Include="Dsl\FlowRecoverSpec.cs" />
    <Compile Include="Dsl\FlowRecoverWithSpec.cs" />
    <Compile Include="Dsl\FlowSumSpec.cs" />
    <Compile Include="Dsl\FlowScanSpec.cs" />
    <Compile Include="Dsl\FlowSectionSpec.cs" />
    <Compile Include="Dsl\FlowSlidingSpec.cs" />
    <Compile Include="Dsl\FlowSpec.cs" />
    <Compile Include="Dsl\FlowSplitAfterSpec.cs" />
    <Compile Include="Dsl\FlowSplitWhenSpec.cs" />
    <Compile Include="Dsl\FlowStatefulSelectManySpec.cs" />
    <Compile Include="Dsl\FramingSpec.cs" />
    <Compile Include="Dsl\GraphBackedFlowSpec.cs" />
    <Compile Include="Dsl\GraphBalanceSpec.cs" />
    <Compile Include="Dsl\GraphBroadcastSpec.cs" />
    <Compile Include="Dsl\GraphConcatSpec.cs" />
    <Compile Include="Dsl\GraphMatValueSpec.cs" />
    <Compile Include="Dsl\GraphMergePreferredSpec.cs" />
    <Compile Include="Dsl\GraphMergeSortedSpec.cs" />
    <Compile Include="Dsl\GraphMergeSpec.cs" />
    <Compile Include="Dsl\GraphOpsIntegrationSpec.cs" />
    <Compile Include="Dsl\GraphPartialSpec.cs" />
    <Compile Include="Dsl\GraphPartitionSpec.cs" />
    <Compile Include="Dsl\GraphStageTimersSpec.cs" />
    <Compile Include="Dsl\GraphUnzipSpec.cs" />
    <Compile Include="Dsl\GraphUnzipWithSpec.cs" />
    <Compile Include="Dsl\GraphZipSpec.cs" />
    <Compile Include="Dsl\GraphZipNSpec.cs" />
    <Compile Include="Dsl\GraphZipWithNSpec.cs" />
    <Compile Include="Dsl\GraphZipWithSpec.cs" />
    <Compile Include="Dsl\HubSpec.cs" />
    <Compile Include="Dsl\JsonFramingSpec.cs" />
    <Compile Include="Dsl\LazySinkSpec.cs" />
    <Compile Include="Dsl\LiftExtensions.cs" />
    <Compile Include="Dsl\PublisherSinkSpec.cs" />
    <Compile Include="Dsl\QueueSinkSpec.cs" />
    <Compile Include="Dsl\QueueSourceSpec.cs" />
    <Compile Include="Actor\ActorPublisherSpec.cs" />
    <Compile Include="Dsl\ActorRefBackpressureSinkSpec.cs" />
    <Compile Include="Dsl\ActorRefSinkSpec.cs" />
    <Compile Include="Dsl\FlowBufferSpec.cs" />
    <Compile Include="Dsl\FlowSkipWithinSpec.cs" />
    <Compile Include="Dsl\FlowSkipWhileSpec.cs" />
    <Compile Include="Dsl\FlowSkipSpec.cs" />
    <Compile Include="Dsl\FlowSelectManySpec.cs" />
    <Compile Include="Dsl\FlowSelectSpec.cs" />
    <Compile Include="Dsl\FlowSupervisionSpec.cs" />
    <Compile Include="Dsl\FlowTakeSpec.cs" />
    <Compile Include="Dsl\FlowTakeWhileSpec.cs" />
    <Compile Include="Dsl\FlowTakeWithinSpec.cs" />
    <Compile Include="Dsl\FlowThrottleSpec.cs" />
    <Compile Include="Dsl\FlowWatchTerminationSpec.cs" />
    <Compile Include="Dsl\FlowZipSpec.cs" />
    <Compile Include="Dsl\FlowZipWithSpec.cs" />
    <Compile Include="Dsl\HeadSinkSpec.cs" />
    <Compile Include="Dsl\LastSinkSpec.cs" />
    <Compile Include="Dsl\ReverseArrowSpec.cs" />
    <Compile Include="Dsl\RunnableGraphSpec.cs" />
    <Compile Include="Dsl\SeqSinkSpec.cs" />
    <Compile Include="Dsl\SinkForeachParallelSpec.cs" />
    <Compile Include="Dsl\SinkSpec.cs" />
    <Compile Include="Dsl\SourceSpec.cs" />
    <Compile Include="Dsl\StageActorRefSpec.cs" />
    <Compile Include="Dsl\SubscriberSinkSpec.cs" />
    <Compile Include="Dsl\SubscriberSourceSpec.cs" />
    <Compile Include="Dsl\SubstreamSubscriptionTimeoutSpec.cs" />
    <Compile Include="Dsl\TestConfig.cs" />
    <Compile Include="Dsl\TickSourceSpec.cs" />
    <Compile Include="Dsl\UnfoldResourceSourceSpec.cs" />
    <Compile Include="Dsl\UnfoldResourceAsyncSourceSpec.cs" />
    <Compile Include="Extra\FlowTimedSpec.cs" />
    <Compile Include="FusingSpec.cs" />
    <Compile Include="Implementation\Fusing\ActorGraphInterpreterSpec.cs" />
    <Compile Include="Implementation\Fusing\ChasingEventsSpec.cs" />
    <Compile Include="Implementation\Fusing\GraphInterpreterFailureModesSpec.cs" />
    <Compile Include="Implementation\Fusing\GraphInterpreterPortsSpec.cs" />
    <Compile Include="Implementation\Fusing\GraphInterpreterSpec.cs" />
    <Compile Include="Implementation\Fusing\InterpreterSupervisionSpec.cs" />
    <Compile Include="Implementation\Fusing\InterpreterStressSpec.cs" />
    <Compile Include="Implementation\Fusing\IteratorInterpreterSpec.cs" />
    <Compile Include="Implementation\Fusing\KeepGoingStageSpec.cs" />
    <Compile Include="Implementation\Fusing\LifecycleInterpreterSpec.cs" />
    <Compile Include="Implementation\ResizableMultiReaderRingBufferSpec.cs" />
    <Compile Include="Implementation\Fusing\GraphInterpreterSpecKit.cs" />
    <Compile Include="Implementation\Fusing\InterpreterSpec.cs" />
    <Compile Include="Implementation\FixedBufferSpec.cs" />
    <Compile Include="Implementation\GraphStageLogicSpec.cs" />
    <Compile Include="Implementation\StreamLayoutSpec.cs" />
    <Compile Include="Implementation\TimeoutsSpec.cs" />
    <Compile Include="IO\FileSinkSpec.cs" />
    <Compile Include="IO\FileSourceSpec.cs" />
    <Compile Include="IO\InputStreamSinkSpec.cs" />
    <Compile Include="IO\InputStreamSourceSpec.cs" />
    <Compile Include="IO\OutputStreamSinkSpec.cs" />
    <Compile Include="IO\OutputStreamSourceSpec.cs" />
    <Compile Include="IO\TcpHelper.cs" />
    <Compile Include="IO\TcpSpec.cs" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Sample.cs" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="15.0.0" />
    <PackageReference Include="xunit" Version="2.3.0-beta2-build3683" />
    <PackageReference Include="xunit.runner.visualstudio" Version="2.3.0-beta2-build1317" />
    <DotNetCliToolReference Include="dotnet-xunit" Version="2.3.0-beta2-build3683" />
    <PackageReference Include="FluentAssertions" Version="4.14.0" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'net452' ">
    <Reference Include="System.Configuration" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="Microsoft.CSharp" />
    <PackageReference Include="FsCheck" Version="2.6.2" />
    <PackageReference Include="FsCheck.Xunit" Version="2.6.2" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'netcoreapp1.1' ">
    <PackageReference Include="System.Net.Sockets" version="4.3.0" />
    <PackageReference Include="System.Runtime.Extensions" version="4.3.0" />
  </ItemGroup>

  <ItemGroup>
    <Service Include="{82a7f48d-3b50-4b1e-b82e-3ada8210c358}" />
  </ItemGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'net452' ">
    <DefineConstants>$(DefineConstants);SERIALIZATION;CONFIGURATION;UNSAFE_THREADING</DefineConstants>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netcoreapp1.1' ">
    <DefineConstants>$(DefineConstants);CORECLR</DefineConstants>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <DefineConstants>$(DefineConstants);RELEASE</DefineConstants>
  </PropertyGroup>
</Project>